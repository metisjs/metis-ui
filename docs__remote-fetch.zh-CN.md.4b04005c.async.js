"use strict";(self.webpackChunkmetis_ui=self.webpackChunkmetis_ui||[]).push([[9897],{86430:function(r,n,t){t.r(n);var u=t(37496),o=t(82857),c=t(38461),m=t(83120),x=t(48415),h=t(95300),p=t(11024),v=t(65110),I=t(10006),E=t(18637),D=t(741),j=t(30166),a=t(91512),s=t(35055),d=t(30158),i=t(39546),_=t(75731),e=t(74132);function l(){return(0,e.jsx)(s.DumiPage,{children:(0,e.jsx)(i.Suspense,{fallback:(0,e.jsx)(d.Z,{}),children:(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)("div",{className:"markdown",children:[(0,e.jsxs)("p",{children:[_.texts[0].value,(0,e.jsx)("code",{children:_.texts[1].value}),_.texts[2].value,(0,e.jsx)(s.Link,{to:"/components/auto-complete-cn#auto-complete-demo-request",children:(0,e.jsx)("code",{children:_.texts[3].value})}),_.texts[4].value,(0,e.jsx)(s.Link,{to:"/components/cascader-cn#cascader-demo-request",children:(0,e.jsx)("code",{children:_.texts[5].value})}),_.texts[6].value,(0,e.jsx)(s.Link,{to:"/components/list-cn#list-demo-remote-load",children:(0,e.jsx)("code",{children:_.texts[7].value})}),_.texts[8].value,(0,e.jsx)(s.Link,{to:"/components/select-cn#src-components-select-demo-request",children:(0,e.jsx)("code",{children:_.texts[9].value})}),_.texts[10].value,(0,e.jsx)(s.Link,{to:"/components/table-cn#src-components-table-demo-request",children:(0,e.jsx)("code",{children:_.texts[11].value})}),_.texts[12].value,(0,e.jsx)(s.Link,{to:"/components/tree-cn#src-components-tree-demo-remote",children:(0,e.jsx)("code",{children:_.texts[13].value})}),_.texts[14].value,(0,e.jsx)("code",{children:_.texts[15].value}),_.texts[16].value,(0,e.jsx)("code",{children:_.texts[17].value}),_.texts[18].value]}),(0,e.jsxs)("p",{children:[(0,e.jsx)("code",{children:_.texts[19].value}),_.texts[20].value,(0,e.jsx)("a",{href:"https://ahooks.js.org/zh-CN/hooks/use-request/index",children:(0,e.jsx)("code",{children:_.texts[21].value})}),_.texts[22].value,(0,e.jsx)("code",{children:_.texts[23].value}),_.texts[24].value,(0,e.jsx)("code",{children:_.texts[25].value}),_.texts[26].value]}),(0,e.jsx)("p",{children:_.texts[27].value}),(0,e.jsx)(a.Z,{lang:"tsx",children:_.texts[28].value}),(0,e.jsx)("p",{children:_.texts[29].value}),(0,e.jsx)(a.Z,{lang:"tsx",children:_.texts[30].value}),(0,e.jsxs)("h2",{id:"\u57FA\u7840\u4F7F\u7528",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#\u57FA\u7840\u4F7F\u7528",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"\u57FA\u7840\u4F7F\u7528"]}),(0,e.jsx)(a.Z,{lang:"tsx",children:_.texts[31].value}),(0,e.jsxs)("h2",{id:"\u61D2\u52A0\u8F7D\u6216\u5206\u9875--\u641C\u7D22\u8FC7\u6EE4",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#\u61D2\u52A0\u8F7D\u6216\u5206\u9875--\u641C\u7D22\u8FC7\u6EE4",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"\u61D2\u52A0\u8F7D\u6216\u5206\u9875 + \u641C\u7D22\u8FC7\u6EE4"]}),(0,e.jsx)("p",{children:_.texts[32].value}),(0,e.jsx)(a.Z,{lang:"tsx",children:_.texts[33].value})]})})})})}n.default=l},75731:function(r,n,t){t.r(n),t.d(n,{texts:function(){return u}});const u=[{value:"\u5728 ",paraId:0},{value:"metisui",paraId:0},{value:" \u4E2D\uFF0C\u6570\u636E\u5C55\u793A\u7C7B\u7EC4\u4EF6\u5982 ",paraId:0},{value:"AutoComplete",paraId:1},{value:"\u3001",paraId:0},{value:"Cascader",paraId:2},{value:"\u3001",paraId:0},{value:"List",paraId:3},{value:"\u3001",paraId:0},{value:"Select",paraId:4},{value:"\u3001",paraId:0},{value:"Table",paraId:5},{value:" \u548C ",paraId:0},{value:"Tree",paraId:6},{value:" \u5747\u652F\u6301\u901A\u8FC7\u914D\u7F6E ",paraId:0},{value:"request",paraId:0},{value:" \u5C5E\u6027\u81EA\u52A8\u52A0\u8F7D\u8FDC\u7A0B\u6570\u636E\u3002",paraId:0},{value:"request",paraId:0},{value:" \u4F1A\u81EA\u52A8\u7BA1\u7406\u52A0\u8F7D\u72B6\u6001\uFF0C\u5E76\u5728\u7EC4\u4EF6\u652F\u6301\u5206\u9875\u6216\u61D2\u52A0\u8F7D\u65F6\uFF0C\u5185\u90E8\u5904\u7406\u6570\u636E\u62FC\u63A5\u548C\u5206\u9875\u903B\u8F91\uFF0C\u4ECE\u800C\u7B80\u5316\u4E1A\u52A1\u5F00\u53D1\u6D41\u7A0B\u3002",paraId:0},{value:"request",paraId:7},{value:" \u5185\u90E8\u5B9E\u73B0\u57FA\u4E8E",paraId:7},{value:"ahook/useRequest",paraId:7},{value:", \u652F\u6301\u9664 ",paraId:7},{value:"manual",paraId:7},{value:" \u548C ",paraId:7},{value:"refreshDepsAction",paraId:7},{value:" \u4E4B\u5916\u7684\u6240\u6709\u5C5E\u6027\u3002",paraId:7},{value:"\u6211\u4EEC\u7EA6\u5B9A\u7684\u51C6\u5907\u7684\u63A5\u53E3\u8FD4\u56DE\u7C7B\u578B\u4E3A\uFF1A",paraId:8},{value:`type ResponseData<TData extends Record<string, []>> = {
  data: TData[]; // \u6570\u636E\u96C6
  total?: number; // \u53EA\u6709\u5728\u5206\u9875\u6216\u61D2\u52A0\u8F7D\u65F6\u9700\u8981
};
`,paraId:9},{value:"\u5982\u679C\u4F60\u7684\u540E\u7AEF\u6570\u636E\u8FD4\u56DE\u7C7B\u578B\u548C\u6211\u4EEC\u7684\u4E0D\u4E00\u6837\uFF0C\u53EF\u4EE5\u5728\u8BF7\u6C42\u5C42\u5B9A\u4E49\u4E00\u4E2A\u9002\u914D\u5668\u6765\u8F6C\u6362\u5B83\u3002",paraId:10},{value:`/**
 *  \u5047\u8BBE\u8FD4\u56DE\u7C7B\u578B\u4E3A:
 *  {
 *    success: true,
 *    data: {
 *      list: [...],
 *      total: 100
 *    }
 *  }
 */
const request = axios.create({
  baseURL: import.meta.env.VITE_API_PREFIX,
  timeout: 10000,
});

request.interceptors.response.use((response) => {
  const { data: responseData } = response;
  const { success, data } = responseData;

  // \u5224\u65AD\u5206\u9875\u63A5\u53E3\uFF0C\u6839\u636E\u5B9E\u9645\u60C5\u51B5\u8C03\u6574
  if (Array.isArray(data?.list) && 'total' in data) {
    return {
      ...responseData,
      data: data.list,
      total: data.total,
    };
  }

  return responseData;
});
`,paraId:11},{value:`const fetchUsers = () => {...};

<Select options={[...]} request={fetchUsers}/>

// OR

<Select options={[...]} request={{
  service: fetchUsers
  options:{
    ... // useRequest options
  }
}}/>
`,paraId:12,tocIndex:0},{value:"\u5F53\u5F00\u542F\u61D2\u52A0\u8F7D\u6216\u5206\u9875\u65F6\uFF0C\u5206\u9875\u4FE1\u606F\u5C06\u4F5C\u4E3A\u7B2C\u4E00\u4E2A\u53C2\u6570\u4F20\u9012\u7ED9\u8BF7\u6C42\u65B9\u6CD5\u3002",paraId:13,tocIndex:1},{value:`const fetchUsers = ({
  current: number;
  pageSize: number;
  filters: { [key: string]: string };
},/* \u5176\u4ED6\u4F20\u5165\u53C2\u6570 */) => {...};

<Select options={[...]} request={fetchUsers} lazyLoad/>

// OR

<Select options={[...]} request={{
  service: fetchUsers
  options:{
    ... // useRequest options
  }
}}
lazyLoad
/>
`,paraId:14,tocIndex:1}]}}]);
