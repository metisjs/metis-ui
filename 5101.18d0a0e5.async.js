"use strict";(self.webpackChunkmetis_ui=self.webpackChunkmetis_ui||[]).push([[5101],{11009:function(e,t,n){n.d(t,{O_:function(){return l},X5:function(){return u}});var r=n(27508);function o(e,t,n,r){var o=n-t;return(e/=r/2)<1?o/2*e*e*e+t:o/2*((e-=2)*e*e+2)+t}function i(e){return null!=e&&e===e.window}var l=function(e){if("undefined"==typeof window)return 0;var t,n,r=0;(i(e)?r=e.pageYOffset:e instanceof Document?r=e.documentElement.scrollTop:(e instanceof HTMLElement||e)&&(r=e.scrollTop),e&&!i(e)&&"number"!=typeof r)&&(r=null===(t=(null!==(n=e.ownerDocument)&&void 0!==n?n:e).documentElement)||void 0===t?void 0:t.scrollTop);return r};function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getContainer,u=void 0===n?function(){return window}:n,c=t.callback,f=t.duration,a=void 0===f?450:f,s=u(),d=l(s),v=Date.now(),h=function t(){var n=Date.now()-v,l=o(n>a?a:n,d,e,a);i(s)?s.scrollTo(window.pageXOffset,l):s instanceof Document||"HTMLDocument"===s.constructor.name?s.documentElement.scrollTop=l:s.scrollTop=l,n<a?(0,r.default)(t):"function"==typeof c&&c()};(0,r.default)(h)}},35823:function(e,t,n){var r=n(15558),o=n.n(r),i=n(27508);t.Z=function(e){var t,n=function(n){return function(){t=null,e.apply(void 0,o()(n))}},r=function(){if(null==t){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];t=(0,i.default)(n(r))}};return r.cancel=function(){i.default.cancel(t),t=null},r}},40780:function(e,t,n){n.d(t,{Z:function(){return y}});var r=n(26068),o=n.n(r),i=n(82092),l=n.n(i),u=n(48305),c=n.n(u),f=n(39546),a=n(87685),s=n(28753),d=n(33541),v=n(35823),h=n(25095),p=n(96317);function g(e){return e!==window?e.getBoundingClientRect():{top:0,bottom:window.innerHeight}}function x(e,t,n){if(void 0!==n&&Math.round(t.top)>Math.round(e.top)-n)return n+t.top}function m(e,t,n){if(void 0!==n&&Math.round(t.bottom)<Math.round(e.bottom)+n)return n+(window.innerHeight-t.bottom)}var w=n(74132),C=["resize","scroll","touchstart","touchmove","touchend","pageshow","load"];function b(){return"undefined"!=typeof window?window:null}var y=f.forwardRef((function(e,t){var n,r=e.style,i=e.offsetTop,u=e.offsetBottom,y=e.prefixCls,k=e.className,E=e.children,T=e.target,R=e.onChange,S=f.useContext(p.ConfigContext),L=S.getPrefixCls,N=S.getTargetContainer,j=L("affix",y),z=(0,d.default)(k,"affix"),A=f.useState(!1),D=c()(A,2),M=D[0],B=D[1],H=f.useState(),Z=c()(H,2),O=Z[0],I=Z[1],P=f.useState(),_=c()(P,2),X=_[0],q=_[1],F=f.useRef(0),J=f.useRef(null),W=f.useRef(null),Y=f.useRef(null),$=f.useRef(null),G=f.useRef(null),K=null!==(n=null!=T?T:N)&&void 0!==n?n:b,Q=void 0===u&&void 0===i?0:i,U=function(){F.current=1,function(){if(1===F.current&&$.current&&Y.current&&K){var e=K();if(e){var t={status:0},n=g(Y.current);if(0===n.top&&0===n.left&&0===n.width&&0===n.height)return;var r=g(e),o=x(n,r,Q),i=m(n,r,u);void 0!==o?(t.affixStyle={position:"fixed",top:o,width:n.width,height:n.height},t.placeholderStyle={width:n.width,height:n.height}):void 0!==i&&(t.affixStyle={position:"fixed",bottom:i,width:n.width,height:n.height},t.placeholderStyle={width:n.width,height:n.height}),t.lastAffix=!!t.affixStyle,M!==t.lastAffix&&(null==R||R(t.lastAffix)),F.current=t.status,I(t.affixStyle),q(t.placeholderStyle),B(t.lastAffix)}}}()},V=(0,v.Z)((function(){U()})),ee=(0,v.Z)((function(){if(K&&O){var e=K();if(e&&Y.current){var t=g(e),n=g(Y.current),r=x(n,t,Q),o=m(n,t,u);if(void 0!==r&&O.top===r||void 0!==o&&O.bottom===o)return}}U()})),te=function(){var e=null==K?void 0:K();e&&(C.forEach((function(t){var n;W.current&&(null===(n=J.current)||void 0===n||n.removeEventListener(t,W.current));null==e||e.addEventListener(t,ee)})),J.current=e,W.current=ee)};f.useImperativeHandle(t,(function(){return{updatePosition:V}})),f.useEffect((function(){return G.current=setTimeout(te),function(){return function(){G.current&&(clearTimeout(G.current),G.current=null);var e=null==K?void 0:K();C.forEach((function(t){var n;null==e||e.removeEventListener(t,ee),W.current&&(null===(n=J.current)||void 0===n||n.removeEventListener(t,W.current))})),V.cancel(),ee.cancel()}()}}),[]),f.useEffect((function(){te()}),[T,O]),f.useEffect((function(){V()}),[T,i,u]);var ne=(0,s.clsx)(j,"fixed z-10",z.root),re=(0,s.clsx)(l()({},ne,O)),oe=(0,a.default)(e,["prefixCls","offsetTop","offsetBottom","target","onChange","className"]);return(0,w.jsx)(h.default,{onResize:V,children:(0,w.jsxs)("div",o()(o()({style:r,ref:Y},oe),{},{children:[O&&(0,w.jsx)("div",{style:X,"aria-hidden":"true"}),(0,w.jsx)("div",{className:re,ref:$,style:O,children:(0,w.jsx)(h.default,{onResize:V,children:E})})]}))})}))},5101:function(e,t,n){n.d(t,{Z:function(){return R}});var r=n(26068),o=n.n(r),i=n(82092),l=n.n(i),u=n(15558),c=n.n(u),f=n(48305),a=n.n(f),s=n(39546),d=n(57410),v=n(28753),h=n(33541),p=n(11009),g=n(56680),x=n(40780),m=n(96317),w=s.createContext(void 0),C=n(74132),b=function(e){var t=e.href,n=e.title,r=e.prefixCls,o=e.children,i=e.className,u=e.target,c=e.replace,f=(0,h.default)(i),a=s.useContext(w)||{},d=a.registerLink,p=a.unregisterLink,g=a.scrollTo,x=a.onClick,b=a.activeLink,y=a.direction;s.useEffect((function(){return null==d||d(t),function(){null==p||p(t)}}),[t]);var k=(0,s.useContext(m.ConfigContext).getPrefixCls)("anchor",r),E=b===t,T=(0,v.clsx)("".concat(k,"-link"),l()({},"".concat(k,"-link-active"),E),"flex flex-col gap-2 ps-4 leading-6",{"first-of-type:ps-0":"horizontal"===y},f.root),R=(0,v.clsx)("".concat(k,"-link-title"),l()({},"".concat(k,"-link-title-active"),E),"text-text block",{"text-primary":E},f.title);return(0,C.jsxs)("div",{className:T,children:[(0,C.jsx)("a",{className:R,href:t,title:"string"==typeof n?n:"",target:u,onClick:function(e){null==x||x(e,{title:n,href:t}),null==g||g(t),c&&(e.preventDefault(),window.location.replace(t))},children:n}),"horizontal"!==y?o:null]})};function y(){return window}function k(e,t){if(!e.getClientRects().length)return 0;var n=e.getBoundingClientRect();return n.width||n.height?t===window?n.top-e.ownerDocument.documentElement.clientTop:n.top-t.getBoundingClientRect().top:n.top}var E=/#([\S ]+)$/;var T=function(e){var t,n=e.prefixCls,r=e.className,i=e.style,u=e.offsetTop,f=e.affix,T=void 0===f||f,R=e.showInkInFixed,S=void 0!==R&&R,L=e.items,N=e.direction,j=void 0===N?"vertical":N,z=e.bounds,A=e.targetOffset,D=e.onClick,M=e.onChange,B=e.getContainer,H=e.getCurrentAnchor,Z=e.replace,O=s.useState([]),I=a()(O,2),P=I[0],_=I[1],X=s.useState(null),q=a()(X,2),F=q[0],J=q[1],W=s.useRef(F),Y=s.useRef(null),$=s.useRef(null),G=s.useRef(!1),K=s.useContext(m.ConfigContext),Q=K.getTargetContainer,U=(0,K.getPrefixCls)("anchor",n),V=(0,h.default)(r,"anchor"),ee=null!==(t=null!=B?B:Q)&&void 0!==t?t:y,te=JSON.stringify(P),ne=(0,d.useEvent)((function(e){P.includes(e)||_((function(t){return[].concat(c()(t),[e])}))})),re=(0,d.useEvent)((function(e){P.includes(e)&&_((function(t){return t.filter((function(t){return t!==e}))}))})),oe=(0,d.useEvent)((function(e){if(W.current!==e){var t="function"==typeof H?H(e):e;J(t),W.current=t,null==M||M(e)}})),ie=s.useCallback((function(){if(!G.current){var e=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5,r=[],o=ee();if(e.forEach((function(e){var i=E.exec(null==e?void 0:e.toString());if(i){var l=document.getElementById(i[1]);if(l){var u=k(l,o);u<=t+n&&r.push({link:e,top:u})}}})),r.length){return r.reduce((function(e,t){return t.top>e.top?t:e})).link}return""}(P,void 0!==A?A:u||0,z);oe(e)}}),[te,A,u]),le=s.useCallback((function(e){oe(e);var t=E.exec(e);if(t){var n=document.getElementById(t[1]);if(n){var r=ee(),o=(0,p.O_)(r)+k(n,r);o-=void 0!==A?A:u||0,G.current=!0,(0,p.X5)(o,{getContainer:ee,callback:function(){G.current=!1}})}}}),[A,u]),ue=(0,v.clsx)(U,l()(l()({},"".concat(U,"-fixed"),!T&&!S),"".concat(U,"-horizontal"),"horizontal"===j),"text-text relative flex flex-col gap-2 ps-[2px] text-sm","before:border-fill-secondary before:absolute before:border-solid",{"flex flex-row py-1 before:right-0 before:bottom-0 before:left-0 before:border-b":"horizontal"===j,"before:start-0 before:top-0 before:h-full before:border-s":"vertical"===j},V.root),ce=(0,v.clsx)("".concat(U,"-ink"),l()({},"".concat(U,"-ink-visible"),F),"bg-primary absolute hidden duration-300",{"inline-block":F,"start-0 w-[2px] -translate-y-1/2 transition-[top]":"vertical"===j,"bottom-0 h-[2px]":"horizontal"===j},V.ink),fe=(0,C.jsxs)("div",{ref:Y,className:ue,style:i,children:[(0,C.jsx)("span",{className:ce,ref:$}),function e(t){return Array.isArray(t)?t.map((function(t){return(0,s.createElement)(b,o()(o()({replace:Z},t),{},{className:(0,v.mergeSemanticCls)(V.link,t.className),key:t.key}),"vertical"===j&&e(t.children))})):null}(L)]});s.useEffect((function(){var e=ee();return ie(),null==e||e.addEventListener("scroll",ie),function(){null==e||e.removeEventListener("scroll",ie)}}),[te]),s.useEffect((function(){"function"==typeof H&&oe(H(W.current||""))}),[H]),s.useEffect((function(){!function(){var e,t=null===(e=Y.current)||void 0===e?void 0:e.querySelector(".".concat(U,"-link-title-active"));if(t&&$.current){var n=$.current.style,r="horizontal"===j;n.top=r?"":"".concat(t.offsetTop+t.clientHeight/2,"px"),n.height=r?"":"".concat(t.clientHeight,"px"),n.left=r?"".concat(t.offsetLeft,"px"):"",n.width=r?"".concat(t.clientWidth,"px"):"",r&&(0,g.Z)(t,{scrollMode:"if-needed",block:"nearest"})}}()}),[j,H,te,F]);var ae=s.useMemo((function(){return{registerLink:ne,unregisterLink:re,scrollTo:le,activeLink:F,onClick:D,direction:j}}),[F,D,le,j]);return(0,C.jsx)(w.Provider,{value:ae,children:T?(0,C.jsx)(x.Z,{offsetTop:u,target:ee,children:fe}):fe})},R=T}}]);